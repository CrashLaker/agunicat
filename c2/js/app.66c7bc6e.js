(function(t){function e(e){for(var o,a,l=e[0],s=e[1],c=e[2],u=0,f=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(o=!1)}o&&(r.splice(e--,1),t=l(l.s=n[0]))}return t}var o={},i={app:0},r=[];function a(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"1cd4d7b9"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=o);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=a(t);var c=new Error;r=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,n[1](c)}i[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(n,o,function(e){return t[e]}.bind(null,o));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/c2/",l.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"099c":function(t,e,n){},2146:function(t,e,n){"use strict";n("099c")},"34cf":function(t,e,n){},"39f1":function(t,e,n){"use strict";n("a24a")},"4c90":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("2ca0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var o,i=n("a026"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Notes")],1)},a=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"left"},attrs:{id:"notes"}},[n("div",{},[n("a",{attrs:{href:"#!"},on:{click:t.backHandler}},[t._v("Back")]),n("br")]),0!=Object.keys(t.noteSelected).length||t.edit?Object.keys(t.noteSelected).length>0&&!t.edit?n("NoteDetail",{attrs:{noteSelected:t.noteSelected},on:{editpost:function(e){t.edit=!0}}}):t.edit?n("NoteEdit",{attrs:{noteSelected:t.noteSelected},on:{toview:function(e){t.edit=!1}}}):t._e():n("NotesList",{attrs:{notelist:t.notelist},on:{newpost:t.newPostHandler}})],1)},s=[],c=(n("d81d"),n("9911"),n("b85c")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col s12",staticStyle:{display:"flex","align-items":"center"}},[n("div",{staticClass:"input-field inline"},[n("i",{staticClass:"material-icons prefix"},[t._v("search")]),n("input",{staticClass:"validate",attrs:{id:"email_inline",type:"email"},on:{input:function(e){t.search=e.target.value}}}),n("label",{attrs:{for:"email_inline"}},[t._v("Search")])]),n("a",{staticClass:"btn",staticStyle:{"margin-left":"5px"},on:{click:function(e){return t.$emit("newpost")}}},[n("i",{staticClass:"material-icons"},[t._v("add")]),n("span",{staticStyle:{transform:"translate(0px, -4px)","padding-left":"5px",display:"inline-block"}},[t._v("New Post")])])])]),n("div",{domProps:{innerHTML:t._s(t.notehtml)}})])},d=[],f=(n("99af"),n("4de4"),n("caad"),n("13d5"),n("fb6a"),n("b0c0"),n("ac1f"),n("2532"),n("841c"),n("1276"),n("ade3")),h=n("5530"),p=n("2909"),v=(o={name:"",props:{notelist:{type:Array,default:function(){return[]}}},components:{},computed:{notehtml:function(){if(this.notelist){var t=this.search.toLowerCase(),e=[];console.log(this.notelist),e=""==t?Object(p["a"])(this.notelist):this.notelist.filter((function(e){return e.title.includes(t)})),console.log("notelist",e);var n=e.reduce((function(t,e,n){console.log(e);var o=e.title.split("/"),i=t;for(var r in o){var a,l=o[r],s=!1,u=Object(c["a"])(i.children);try{for(u.s();!(a=u.n()).done;){var d=a.value;if(d.name==l){s=!0,i=d;break}}}catch(v){u.e(v)}finally{u.f()}if(!s){var f={};r==o.length-1&&(f={link:e});var p=Object(h["a"])(Object(h["a"])({name:l,label:o[r],children:[]},f),{},{key:e.key});i.children.push(p),i=p}}return t}),{name:"___root",children:[]}),o="<ul>",i=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("___root"==e.name){var i,r=Object(c["a"])(e.children);try{for(r.s();!(i=r.n()).done;){var a=i.value;o+="<ul>",t(a,n),o+="</ul>"}}catch(f){r.e(f)}finally{r.f()}}else{o+="<li onmousemove=\"event.stopPropagation(); event.target.querySelector('img') ? event.target.querySelector('img').style.opacity=100 : ''\" \n                                onmouseout=\"event.stopPropagation(); event.target.querySelector('img') ? event.target.querySelector('img').style.opacity=0 : ''\"/>",e.link?o+='<a href="#!" onclick="window.notesClick(\''.concat(btoa(JSON.stringify(e)),"')\">").concat(e.label,"</a>"):o+=e.label;var l=n+"/"+e.label;o+=' <img \n                                onmousemove="event.stopPropagation(); event.target.style.opacity=100" \n                                onmouseout="event.stopPropagation(); event.target.style.opacity=0"\n                    class="imghover" style="cursor:pointer;opacity:0;width:14px;" \n                    src="/assets/icons/plus.png" onclick="window.newPost(\''.concat(l.slice(1,l.length),"/')\"/>");var s,u=Object(c["a"])(e.children);try{for(u.s();!(s=u.n()).done;){var d=s.value;o+="<ul>",t(d,n+"/"+e.label),o+="</ul>"}}catch(f){u.e(f)}finally{u.f()}o+="</li>"}};return i(n),o+="</ul>",o}}}},Object(f["a"])(o,"props",{notelist:{type:Array,default:function(){return[]}}}),Object(f["a"])(o,"data",(function(){return{search:""}})),Object(f["a"])(o,"mounted",(function(){})),Object(f["a"])(o,"methods",{}),o),m=v,b=n("2877"),g=Object(b["a"])(m,u,d,!1,null,null,null),y=g.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t.isDev?n("a",{attrs:{href:"#!"},on:{click:function(e){return t.$emit("editpost")}}},[t._v("Edit")]):t._e(),n("br"),t.isDev?[n("button",{staticClass:"btn",on:{click:function(e){return t.copyEmbeded()}}},[t._v("Copy embed")]),n("button",{staticClass:"btn",on:{click:function(e){return t.copyCodimd()}}},[t._v("Copy codimd")]),n("button",{staticClass:"btn",on:{click:function(e){return t.downloadJSON()}}},[t._v("Download JSON")]),n("button",{staticClass:"btn",on:{click:function(e){return t.copyDBLink()}}},[t._v("Copy DBLink")])]:t._e(),n("h3",[t._v(t._s(t.title))]),n("div",{staticStyle:{width:"30%","max-width":"300px",float:"left"}},[n("NotesListL2",{attrs:{notelist:t.tree,edit:!1},on:{newfile:t.newFileHandler}})],1),n("div",{staticStyle:{width:"69%",float:"left"}},[n("h4",[t._v(t._s(this.treeObj.title))]),t.treeSelected?n("MKRender",{key:this.treeObj.title,attrs:{source:t.treeObj.content}}):t._e()],1)],2)},w=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"mdshow",staticClass:"markdownshow"},[n("vue-markdown",{attrs:{source:t.source,show:!0,postrender:t.mdPost},on:{rendered:t.renderedHook}})],1)},S=[],x=(n("4160"),n("c975"),n("a15b"),n("4d63"),n("25f0"),n("466d"),n("5319"),n("498a"),n("159b"),n("3835"));var j=function(t){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},O={name:"",props:["source"],components:{},data:function(){return{materialbox:null}},mounted:function(){},methods:{mdPre:function(t){return t},renderedHook:function(){var t=this;this.$refs.mdshow,this.$nextTick((function(){console.log(t.$refs.mdshow),console.log("materialboxed",t.$refs.mdshow.querySelectorAll(".materialboxed")),t.M.Materialbox.init(t.$refs.mdshow.querySelectorAll(".materialboxed")),t.$el.querySelectorAll("p > code").forEach((function(t){t.addEventListener("click",(function(){j(t.innerText)}))})),t.$el.querySelectorAll("li > code").forEach((function(t){t.addEventListener("click",(function(){j(t.innerText)}))})),t.$el.querySelectorAll("pre").forEach((function(t){var e=document.createElement("button");e.setAttribute("style","font-size:12px;display:none;position:absolute;top:3px;right:3px;z-index:10;color:black;"),e.innerText="copy";var n=t.innerText;t.style.position="relative",e.addEventListener("click",(function(){j(n)})),t.addEventListener("mouseenter",(function(){e.style.display="block"})),t.addEventListener("mouseleave",(function(){e.style.display="none"})),t.prepend(e)}))}))},mdPost:function(t){console.log("post",t);var e,n=new RegExp('<img.*?alt="(.*?)"[^/]*?/>',"gm");while(null!==(e=n.exec(t))){console.log("m",e);var o="";if(e[1]){var i=e[1].split("x"),r=Object(x["a"])(i,2),a=r[0],l=r[1];a&&(o+=' width="'.concat(a,'px" ')),l&&(o+=' height="'.concat(l,'px" '))}t=t.replace(e[0],e[0].replace("/>",o+' class="materialboxed" style="display:inline-block;"/>'))}return t}}},C=O,E=(n("39f1"),Object(b["a"])(C,k,S,!1,null,null,null)),$=E.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"row"},[n("div",{staticClass:"col s12",staticStyle:{display:"flex","align-items":"center"}},[n("div",{staticClass:"input-field inline"},[n("i",{staticClass:"material-icons prefix"},[t._v("search")]),n("input",{staticClass:"validate",attrs:{id:"email_inline",type:"email"},on:{input:function(e){t.search=e.target.value}}}),n("label",{attrs:{for:"email_inline"}},[t._v("Search")])]),t.edit?n("a",{staticClass:"btn",staticStyle:{width:"50px","margin-left":"5px","z-index":"1000"},on:{click:function(e){return t.$emit("newfile")}}},[n("i",{staticClass:"material-icons"},[t._v("add")]),n("span",{staticStyle:{transform:"translate(0px, -4px)","padding-left":"5px",display:"inline-block"}},[t._v("New Post")])]):t._e()])]),n("div",{domProps:{innerHTML:t._s(t.notehtml)}})])},P=[],H={name:"",props:{notelist:{type:Array,default:function(){return[]}},edit:{type:Boolean,default:!1}},data:function(){return{search:""}},beforeMount:function(){},components:{},computed:{notehtml:function(){var t=this;if(this.notelist){var e=this.search.toLowerCase(),n=[];console.log(this.notelist),n=""==e?Object(p["a"])(this.notelist):this.notelist.filter((function(t){return t.title.includes(e)})),console.log("notelist",n);var o=n.sort((function(t,e){return t.title-e.title})).reduce((function(t,e,n){console.log(e);var o=e.title.split("/"),i=t;for(var r in o){var a,l=o[r],s=!1,u=Object(c["a"])(i.children);try{for(u.s();!(a=u.n()).done;){var d=a.value;if(d.name==l){s=!0,i=d;break}}}catch(v){u.e(v)}finally{u.f()}if(!s){var f={};r==o.length-1&&(f={link:e});var p=Object(h["a"])(Object(h["a"])({name:l,label:o[r],children:[]},f),{},{key:e.key});i.children.push(p),i=p}}return t}),{name:"___root",children:[]}),i="<ul>",r=function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("___root"==n.name){var r,a=Object(c["a"])(n.children);try{for(a.s();!(r=a.n()).done;){var l=r.value;i+="<ul>",e(l,o),i+="</ul>"}}catch(h){a.e(h)}finally{a.f()}}else{i+="<li onmousemove=\"event.stopPropagation(); event.target.querySelector('img') ? event.target.querySelector('img').style.opacity=100 : ''\" \n                                onmouseout=\"event.stopPropagation(); event.target.querySelector('img') ? event.target.querySelector('img').style.opacity=0 : ''\"/>",n.link?i+='<a href="#!" onclick="window.fileClick(\''.concat(n.link.title,"')\">").concat(n.label,"</a>"):i+=n.label;var s=o+"/"+n.label;t.edit&&(i+=' <img \n                                    onmousemove="event.stopPropagation(); event.target.style.opacity=100" \n                                    onmouseout="event.stopPropagation(); event.target.style.opacity=0"\n                        class="imghover" style="cursor:pointer;opacity:0;width:14px;" \n                        src="/assets/icons/plus.png" onclick="window.newFile(\''.concat(s.slice(1,s.length),"/')\"/>"));var u,d=Object(c["a"])(n.children);try{for(d.s();!(u=d.n()).done;){var f=u.value;i+="<ul>",e(f,o+"/"+n.label),i+="</ul>"}}catch(h){d.e(h)}finally{d.f()}i+="</li>"}};return r(o),i+="</ul>",i}}},mounted:function(){},methods:{}},N=H,T=Object(b["a"])(N,L,P,!1,null,null,null),M=T.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"codemirror",staticStyle:{height:"90vh","text-align":"left"}},[n("div",{},[n("a",{attrs:{href:"#!"},on:{click:function(e){return t.$emit("toview")}}},[t._v("View")]),n("br"),n("a",{staticClass:"btn",on:{click:t.savePost}},[n("i",{staticClass:"material-icons"},[t._v("save")]),n("span",{staticStyle:{"margin-left":"3px",transform:"translate(0px,-4px)",display:"inline-block"}},[t._v("Save")])]),t._v(" Title:"),n("br"),n("h3",{ref:"title",staticStyle:{"border-bottom":"1px solid grey"},attrs:{contenteditable:"true"}},[t._v(t._s(t.title))]),n("div",{staticClass:"input-field inline"},[n("input",{staticClass:"validate",attrs:{id:"email_inline",type:"number"},on:{input:function(e){t.fontSize=e.target.value}}}),n("label",{attrs:{for:"email_inline"}},[t._v("FontSize")])])]),n("codemirror",{ref:"cm",staticStyle:{"text-align":"left","font-size":"12px"},attrs:{options:t.cmOption},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t._e()],1)},A=[],q=(n("7a7a"),n("db91"),n("959b"),n("ced0"),n("31c5"),n("9948"),n("b933"),n("9c7b"),n("715d"),n("23de"),n("4ba6"),n("8c33"),n("7289"),n("2aed"),n("d72f"),n("0b6c"),n("9a48"),n("75f8"),n("697e"),n("aedd"),n("164b"),n("4895"),n("cbc8"),n("8d70"),n("9f09"),n("a2c1"),n("1ef7"),n("2ef0")),R=n.n(q);var D={props:["treeObj"],components:{MKRender:$},data:function(){return{code:"",code2:"",title:"",fontSize:18,firstLoad:!0,cmOption:{tabSize:2,foldGutter:!0,autoCloseBrackets:!0,lineNumbers:!0,keyMap:"vim",mode:"markdown",theme:"monokai",extraKeys:{F11:function(t){t.setOption("fullScreen",!t.getOption("fullScreen"))},Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndentContinueMarkdownList",F9:function(t){t.replaceSelection("```\n\n```")}}}}},beforeMount:function(){this.title=this.treeObj.title,this.code=this.treeObj.content,this.code2=this.treeObj.content},methods:{savePost:function(){this.treeObj.title=this.$refs.title.innerHTML,this.treeObj.content=this.code,this.$emit("saveFile",{title:this.$refs.title.innerHTML,content:this.code})},mdPost:function(t){console.log("post",t);var e,n=new RegExp('<img.*alt="(.*?)"[^/]*/>',"gm");while(null!==(e=n.exec(t)))if(console.log("m",e),e[1]){var o=e[1].split("x"),i=Object(x["a"])(o,2),r=i[0],a=i[1],l="";r&&(l+=' width="'.concat(r,'px" ')),a&&(l+=' height="'.concat(a,'px" ')),t=t.replace(e[0],e[0].replace("/>",l+" />"))}return t},mdRendered:R.a.debounce((function(t){this.$refs.mdshow&&this.$refs.mdshow.querySelectorAll("img").forEach((function(t){console.log(t);var e=t.getAttribute("alt");if(e.includes("x")){var n=e.split("x"),o=Object(x["a"])(n,2),i=o[0],r=o[1];i&&t.setAttribute("width",i+"px"),r&&t.setAttribute("height",r+"px")}}))}),300),bodyHook:function(t){var e=this;console.log("value",t);var n={key:"<genserial>",value:t};this.axios.post("http://automation:9000/post/gallery",n).then((function(t){var n=e.$refs.cm.codemirror,o=n.getCursor(),i={line:o.line,ch:o.ch};n.replaceRange("![](http://automation:9000/get/gallery/".concat(t.data.key,"?rt=img)"),i)}))},foo:function(){console.log(this.$refs.cm);var t=this.$refs.cm.codemirror;t.replaceRange("asdfasdf",t.Pos(t.lastLine()))},switchAction:function(){this.action="To Markdown"==this.action?"To Code":"To Markdown"},onCmCursorActivity:function(t){},onCmReady:function(t){},onCmFocus:function(t){},onCmBlur:function(t){},saveCode:R.a.debounce((function(t){console.log("obj",t),t.code2=t.code}),800),loadData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("/"!=this.$route.path){null==t&&this.$route.path;this.code=null}}},mounted:function(){window.bodyHook=this.bodyHook},watch:{$route:function(t,e){},code:function(t,e){console.log("code change"),this.saveCode(this)}}},J=D,z=(n("ce78"),Object(b["a"])(J,F,A,!1,null,null,null)),B=z.exports,W={name:"",props:["noteSelected"],components:{MKRender:$,NotesListL2:M,NoteEditL2:B},data:function(){return{forceRefreshEdit:0,title:"",tree:[],treeSelected:null,treeObj:{title:"",content:""}}},beforeMount:function(){var t=this;this.title=this.noteSelected.title,window.location.href.startsWith("https://")?(this.title=this.noteSelected.title,this.tree=this.noteSelected.tree):this.noteSelected.key&&this.axios.get("http://automation:9000/get/crashcode2/"+this.noteSelected.key).then((function(e){console.log(e.data),t.title=e.data.title,t.tree=e.data.tree||[]})),window.newFile=this.newFileHandler,window.fileClick=this.newFileHandler},mounted:function(){},methods:{downloadJSON:function(){this.forceJSONDownload(this.noteSelected,this.noteSelected.key+".json")},copyDBLink:function(){this.copyToClipboard("http://automation:9000/get/crashcode2/".concat(this.noteSelected.key))},copyCodimd:function(){var t=btoa("http://automation:9000/get/crashcode2/c53dc12f2f9049bbb3248fc768710240"),e="width:100%;height:600px;border:0;";this.copyToClipboard('<iframe project="crashcode2" style="'.concat(e,'" src="').concat(window.location.origin,"/notes/?jsonurl=").concat(t,'"></iframe>'))},copyEmbeded:function(){var t=btoa("http://automation:9000/get/crashcode2/c53dc12f2f9049bbb3248fc768710240");this.copyToClipboard("".concat(window.location.origin,"/notes?jsonurl=").concat(t))},newFileHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(console.log("new file handler",t),""!=t){var e=this.tree.filter((function(e){return e.title==t}));if(1==e.length)return e=e[0],console.log("treeobj",e),this.treeSelected=t,this.treeObj=e,this.edit=!0,void this.forceRefreshEdit++}var n={title:t,content:""};this.forceRefreshEdit++,this.treeSelected=t,this.treeObj=n,this.edit=!0},savePostHandler:function(){var t=this,e={key:this.noteSelected.key,title:this.$refs.title.innerHTML,tree:this.tree};this.axios.post("http://automation:9000/post/crashcode2",e).then((function(e){t.send_toast("Save ok","ok")})).catch((function(e){t.send_toast(e,"err")}))},saveFileHandler:function(t){console.log("main save post",t),this.tree=[].concat(Object(p["a"])(this.tree.filter((function(e){return e.title!=t.title}))),[t])}}},K=W,I=Object(b["a"])(K,_,w,!1,null,null,null),V=I.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("a",{attrs:{href:"#!"},on:{click:function(e){return t.$emit("toview")}}},[t._v("View")]),n("br"),n("a",{staticClass:"btn",on:{click:t.savePostHandler}},[n("i",{staticClass:"material-icons"},[t._v("save")]),n("span",{staticStyle:{"margin-left":"3px",transform:"translate(0px,-4px)",display:"inline-block"}},[t._v("Save")])]),t._v(" Title:"),n("br"),n("h3",{ref:"title",staticStyle:{"border-bottom":"1px solid grey"},attrs:{contenteditable:"true"}},[t._v(t._s(t.title))]),n("div",{staticStyle:{width:"30%",float:"left"}},[n("NotesListL2",{attrs:{edit:!0,notelist:t.tree},on:{newfile:t.newFileHandler}})],1),n("div",{staticStyle:{width:"69%",float:"left"}},[t.edit?n("NoteEditL2",{key:t.forceRefreshEdit,attrs:{treeObj:t.treeObj},on:{saveFile:t.saveFileHandler}}):t._e()],1)])},U=[],Y={name:"",props:["noteSelected"],components:{MKRender:$,NotesListL2:M,NoteEditL2:B},data:function(){return{forceRefreshEdit:0,edit:!1,title:"",tree:[],treeSelected:null,treeObj:{title:"",content:""}}},beforeMount:function(){var t=this;console.log("notedetail",this.noteSelected),this.title=this.noteSelected.title,this.noteSelected.key&&this.axios.get("http://automation:9000/get/crashcode2/"+this.noteSelected.key).then((function(e){console.log(e.data),t.title=e.data.title,t.tree=e.data.tree||[]})),window.newFile=this.newFileHandler,window.fileClick=this.newFileHandler},mounted:function(){},methods:{newFileHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(console.log("new file handler",t),""!=t){var e=this.tree.filter((function(e){return e.title==t}));if(1==e.length)return e=e[0],console.log("treeobj",e),this.treeSelected=t,this.treeObj=e,this.edit=!0,void this.forceRefreshEdit++}var n={title:t,content:""};this.forceRefreshEdit++,this.treeSelected=t,this.treeObj=n,this.edit=!0},savePostHandler:function(){var t=this,e={key:this.noteSelected.key,title:this.$refs.title.innerHTML,tree:this.tree};this.axios.post("http://automation:9000/post/crashcode2",e).then((function(e){t.send_toast("Save ok","ok")})).catch((function(e){t.send_toast(e,"err")}))},saveFileHandler:function(t){console.log("main save post",t),this.tree=[].concat(Object(p["a"])(this.tree.filter((function(e){return e.title!=t.title}))),[t]).sort((function(t,e){return t.title<e.title?-1:1})),this.send_toast("Local save ok","ok")}}},Q=Y,X=Object(b["a"])(Q,G,U,!1,null,null,null),Z=X.exports,tt={name:"",components:{NotesList:y,NoteDetail:V,NoteEdit:Z},computed:{},data:function(){return{search:"",noteSelected:{},notelist:[],edit:!1}},beforeMount:function(){var t=this;if(console.log("this.route",this.$route),console.log("notedetail",this.noteSelected),this.$route.query.jsonurl){var e=atob(this.$route.query.jsonurl);console.log("url",e),this.axios.get(e).then((function(e){t.$set(t,"noteSelected",e.data)}))}else this.reloadList();window.notesClick=this.notesClick,window.newPost=this.newPostHandler},mounted:function(){},methods:{reloadList:function(){var t=this,e={keys:JSON.stringify({title:1,key:1})};this.axios.get("http://automation:9000/listfull/crashcode2",{params:e}).then((function(e){if(t.$set(t,"notelist",e.data.sort((function(t,e){return t.title.localeCompare(e.title)}))),console.log(t.$route),t.$route.query.title){console.log(t.notelist);var n,o=Object(c["a"])(t.notelist);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(console.log(i),i.title==t.$route.query.title){t.noteSelected={key:i.key,title:i.title};break}}}catch(r){o.e(r)}finally{o.f()}}t.notelist.map((function(t){console.log(t.title)}))}))},backHandler:function(){this.reloadList(),this.noteSelected={},this.edit=!1,window.history.pushState({},null,"/notes")},newPostHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.noteSelected={title:t,body:""},this.edit=!0},notesClick:function(t){console.log("test trigger",atob(t));var e=JSON.parse(atob(t));window.history.pushState({},null,"/notes?title=".concat(e.link.title)),this.noteSelected=e}}},et=tt,nt=(n("2146"),Object(b["a"])(et,l,s,!1,null,null,null)),ot=nt.exports,it={components:{Notes:ot},mounted:function(){}},rt=it,at=(n("034f"),Object(b["a"])(rt,r,a,!1,null,null,null)),lt=at.exports,st=(n("d3b7"),n("8c4f")),ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),o("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},ut=[],dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._m(0),n("h3",[t._v("Installed CLI Plugins")]),t._m(1),n("h3",[t._v("Essential Links")]),t._m(2),n("h3",[t._v("Ecosystem")]),t._m(3)])},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),n("br"),t._v(" check out the "),n("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),n("li",[n("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),n("li",[n("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],ht={name:"HelloWorld",props:{msg:String}},pt=ht,vt=(n("ccd1"),Object(b["a"])(pt,dt,ft,!1,null,"379548a4",null)),mt=vt.exports,bt={name:"Home",components:{HelloWorld:mt}},gt=bt,yt=Object(b["a"])(gt,ct,ut,!1,null,null,null),_t=yt.exports;i["a"].use(st["a"]);var wt=[{path:"/",name:"Home",component:_t},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],kt=new st["a"]({mode:"history",base:"/c2/",routes:wt}),St=kt,xt=n("bc3a"),jt=n.n(xt),Ot=n("2106"),Ct=n.n(Ot),Et=n("97fa"),$t=(n("a878"),n("8f94")),Lt=n.n($t),Pt=n("9ce6"),Ht=n.n(Pt),Nt=(n("a7be"),n("4d5c")),Tt=n.n(Nt);i["a"].use(Et["a"]),i["a"].prototype.isDev=!window.href.location.startsWith("https://"),i["a"].use(Ht.a),i["a"].component("vue-markdown",Ht.a),i["a"].use(Lt.a),i["a"].prototype.$col="crashcode3";var Mt=function(t){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},Ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),o=document.createElement("a");o.setAttribute("href",n),o.setAttribute("download",e),o.click()};i["a"].prototype.copyToClipboard=Mt,i["a"].prototype.forceJSONDownload=Ft,i["a"].prototype.M=Tt.a,i["a"].prototype.send_toast=function(t,e){"ok"==e?Tt.a.toast({html:t,classes:"green darken-1 rounded"}):"err"==e?Tt.a.toast({html:t,classes:"red darken-1 rounded"}):Tt.a.toast({html:t})},i["a"].use(Ct.a,jt.a),i["a"].config.productionTip=!1,new i["a"]({router:St,render:function(t){return t(lt)}}).$mount("#app")},"85ec":function(t,e,n){},a24a:function(t,e,n){},ccd1:function(t,e,n){"use strict";n("4c90")},ce78:function(t,e,n){"use strict";n("34cf")},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.66c7bc6e.js.map